<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>jQuery and Delphi REST</title>

<script src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js" type="text/javascript"></script>
<script src="http://jquery-json.googlecode.com/files/jquery.json-2.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
	// generate markup
	var ratingMarkup = ["Please rate: "];
	for(var i=1; i <= 5; i++) {
		ratingMarkup[ratingMarkup.length] = "<a href='#'>Hello" + i + "</a> ";
	}
	var container = $("#rating");
	// add markup to container
	container.html(ratingMarkup.join(''));

	// add click handlers
	container.find("a").click(function(e) {
		e.preventDefault();
		// send requests
		$.getJSON("/DSnapWebAppDebug.dsnap1http/datasnap/rest/TServerMethods1/EchoString/" + $(this).html(), 
                  function(data) {
                        // alert (data.result);
			// output result
			// var outtext = $.evalJSON(data);
			$("#result").html(data.result.join(''));
		} );
	});
});
</script>

</head>
<body>
<h1>jQuery Getting Started Example - rate me</h1>

<p>This example demonstrate basic use of AJAX. Click one of the links below to rate. The
number of rating and the average rating will be returned from the serverside script and displayed.</p>

<div id="rating">Container</div>

<div id="result">result</div>

</body>
</html>